{"version":3,"sources":["lib/api.js","components/SearchBar.js","components/CharacterCard.js","components/CharacterList.js","components/SearchPage.js","components/FilmList.js","components/CharacterPage.js","components/NotFoundPage.js","App.js","serviceWorker.js","index.js"],"names":["getCharacterSearchResults","query","a","axios","get","response","data","results","count","next","previous","characters","map","result","name","id","url","split","homeworld_url","homeworld","species_url","species","getPageResults","httpsUrl","replace","getCharacterInfo","cancelToken","films_url","films","getSpeciesInfo","getHomeworldInfo","population","parseInt","toLocaleString","getFilmInfo","opening_crawl","substring","title","release_date","SearchBar","setCharacters","isLoading","setIsLoading","ref","useRef","useState","currentPage","setCurrentPage","searchResultCount","setSearchResultCount","nextPageUrl","setNextPageUrl","prevPageUrl","setPrevPageUrl","useEffect","document","addEventListener","handleKeypress","removeEventListener","e","current","focus","handlePageChange","event","target","pageResults","toast","error","detail","console","handleNewSearch","searchResults","Title","Subtitle","SearchInput","placeholder","labelKey","option","onSearch","onInputChange","minLength","useCache","open","MenuBar","Container","Divider","Button","onClick","icon","faChevronLeft","faChevronRight","styled","h1","p","AsyncTypeahead","div","span","CharacterCard","character","setSpecies","setHomeworld","history","useHistory","signal","CancelToken","source","handleSpeciesRequest","token","isCancel","handleHomeworldRequest","cancel","Card","push","SpeciesText","Description","faCircleNotch","spin","h3","CharacterList","Loader","size","List","key","ul","SearchPage","FilmList","setFilms","sort","b","Date","parse","film","Content","Footer","li","CharacterPage","match","setCharacter","handleCharacterRequest","handleMultipleFilmRequest","Promise","all","params","Wrapper","Header","CloseButton","faTimes","LabelTitle","h4","NotFoundPage","h2","App","basename","process","exact","path","component","Boolean","window","location","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"+RAEaA,EAAyB,uCAAG,WAAOC,GAAP,2BAAAC,EAAA,sEAChBC,IAAMC,IAAN,+CACmBH,IAFH,cACjCI,EADiC,SAIIA,EAASC,KAA5CC,EAJ+B,EAI/BA,QAASC,EAJsB,EAItBA,MAAOC,EAJe,EAIfA,KAAMC,EAJS,EAITA,SACxBC,EAAaJ,EAAQK,KAAI,SAACC,GAAD,MAAa,CAC1CC,KAAMD,EAAOC,KACbC,GAAIF,EAAOG,IAAIC,MAAM,KAAK,GAC1BC,cAAeL,EAAOM,UACtBC,YAAaP,EAAOQ,QAAQ,OATS,kBAWhC,CAAEV,aAAYH,QAAOC,OAAMC,aAXK,2CAAH,sDAczBY,EAAc,uCAAG,WAAON,GAAP,2BAAAd,EAAA,6DACtBqB,EAAWP,EAAIQ,QAAQ,cAAe,YADhB,SAELrB,IAAMC,IAAImB,GAFL,cAEtBlB,EAFsB,SAGQA,EAASC,KAArCC,EAHoB,EAGpBA,QAASE,EAHW,EAGXA,KAAMC,EAHK,EAGLA,SACjBC,EAAaJ,EAAQK,KAAI,SAACC,GAAD,MAAa,CAC1CC,KAAMD,EAAOC,KACbC,GAAIF,EAAOG,IAAIC,MAAM,KAAK,GAC1BC,cAAeL,EAAOM,UACtBC,YAAaP,EAAOQ,QAAQ,OARF,kBAUrB,CAAEV,aAAYF,OAAMC,aAVC,2CAAH,sDAade,EAAgB,uCAAG,WAAOV,EAAIW,GAAX,iBAAAxB,EAAA,sEACPC,IAAMC,IAAN,uCAA0CW,EAA1C,KAAiD,CACtEW,YAAaA,IAFe,cACxBrB,EADwB,OAIxBC,EAAOD,EAASC,KAJQ,kBAKvB,CACLQ,KAAMR,EAAKQ,KACXC,KACAG,cAAeZ,EAAKa,UACpBC,YAAad,EAAKe,QAAQ,GAC1BM,UAAWrB,EAAKsB,QAVY,2CAAH,wDAchBC,EAAc,uCAAG,WAAOb,EAAKU,GAAZ,mBAAAxB,EAAA,yDACvBc,EADuB,qBAEpB,yBAFoB,cAItBO,EAAWP,EAAIQ,QAAQ,cAAe,YAJhB,SAKLrB,IAAMC,IAAImB,EAAU,CACzCG,YAAaA,IANa,cAKtBrB,EALsB,OAQtBC,EAAOD,EAASC,KARM,kBASrB,CACLQ,KAAMR,EAAKQ,OAVe,2CAAH,wDAcdgB,EAAgB,uCAAG,WAAOd,EAAKU,GAAZ,qBAAAxB,EAAA,yDACzBc,EADyB,yCAErB,IAFqB,cAIxBO,EAAWP,EAAIQ,QAAQ,cAAe,YAJd,SAKPrB,IAAMC,IAAImB,EAAU,CACzCG,YAAaA,IANe,cAKxBrB,EALwB,OAQxBC,EAAOD,EAASC,KAGH,aADfyB,EAAazB,EAAKyB,cAEpBA,EAAaC,SAASD,GAAYE,kBAZN,kBAcvB,CACLnB,KAAMR,EAAKQ,KACXiB,WAAYA,IAhBgB,4CAAH,wDAoBhBG,EAAW,uCAAG,WAAOlB,EAAKU,GAAZ,qBAAAxB,EAAA,yDACpBc,EADoB,yCAEhB,IAFgB,cAInBO,EAAWP,EAAIQ,QAAQ,cAAe,YAJnB,SAKFrB,IAAMC,IAAImB,EAAU,CACzCG,YAAaA,IANU,cAKnBrB,EALmB,OAQnBC,EAAOD,EAASC,KAEhB6B,EAAgB7B,EAAK6B,cAAcC,UAAU,EAAG,KAV7B,kBAWlB,CACLC,MAAO/B,EAAK+B,MACZC,aAAchC,EAAKgC,aACnBH,cAAeA,IAdQ,2CAAH,wD,wzCCjExB,IAgHeI,EAhHG,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,cAAeC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,aACvCC,EAAMC,mBADoD,EAG1BC,mBAAS,GAHiB,mBAGzDC,EAHyD,KAG5CC,EAH4C,OAIdF,mBAAS,GAJK,mBAIzDG,EAJyD,KAItCC,EAJsC,OAK1BJ,mBAAS,IALiB,mBAKzDK,EALyD,KAK5CC,EAL4C,OAM1BN,mBAAS,IANiB,mBAMzDO,EANyD,KAM5CC,EAN4C,KAShEC,qBAAU,WAGR,OAFAC,SAASC,iBAAiB,UAAWC,GAE9B,WACLF,SAASG,oBAAoB,UAAWD,MAEzC,IAEH,IAAMA,EAAiB,SAACE,GACtBhB,EAAIiB,QAAQC,SAGRC,EAAgB,uCAAG,WAAOC,GAAP,eAAA7D,EAAA,kEAErBwC,GAAa,GAEW,SAApBqB,EAAMC,OAAOjD,GAJI,gCAKCO,EAAe4B,GALhB,OAKnBe,EALmB,OAMnBlB,EAAeD,EAAc,GANV,wCAQCxB,EAAe8B,GARhB,QAQnBa,EARmB,OASnBlB,EAAeD,EAAc,GATV,QAWrBN,EAAcyB,EAAYtD,YAC1BwC,EAAec,EAAYxD,MAC3B4C,EAAeY,EAAYvD,UAC3BgC,GAAa,GAdQ,kDAgBrBwB,IAAMC,MAAM,KAAI9D,SAASC,KAAK8D,QAC9BC,QAAQF,MAAR,MAjBqB,0DAAH,sDAqBhBG,EAAe,uCAAG,WAAOrE,GAAP,eAAAC,EAAA,sEAEpBwC,GAAa,GAEbK,EAAe,GAJK,SAKQ/C,EAA0BC,GALlC,OAKdsE,EALc,OAMpB/B,EAAc+B,EAAc5D,YAC5BsC,EAAqBsB,EAAc/D,OACnC2C,EAAeoB,EAAc9D,MAC7B4C,EAAekB,EAAc7D,UAC7BgC,GAAa,GAVO,kDAYpBwB,IAAMC,MAAM,KAAI9D,SAASC,KAAK8D,QAC9BC,QAAQF,MAAR,MAboB,0DAAH,sDAyBrB,OACE,oCACE,kBAACK,EAAD,qBACA,kBAACC,EAAD,gDACA,kBAACC,EAAD,CACEC,YAAY,yCACZ5D,GAAG,kBACH0B,UAAWA,EACXmC,SAAU,SAACC,GAAD,OAAYA,EAAO/D,MAC7BgE,SAAUR,EACVS,cAjBa,SAAC9E,GACbA,IACHgD,EAAqB,GACrBT,EAAc,MAeZwC,UAAW,EACXC,UAAU,EACVC,MAAM,EACNvC,IAAKA,MAEJK,GACD,kBAACmC,EAAD,KACE,kBAACC,EAAD,KACE,2BACGpC,EADH,IACsB,yCACpB,kBAACqC,EAAD,UAFF,SAGSvC,IAGX,kBAACsC,EAAD,KACGhC,GACC,kBAACkC,EAAD,CAAQvE,GAAG,WAAWwE,QAASzB,GAC7B,kBAAC,IAAD,CAAiB0B,KAAMC,MADzB,QAKDvC,GACC,kBAACoC,EAAD,CAAQvE,GAAG,OAAOwE,QAASzB,GAA3B,OAEE,kBAAC,IAAD,CAAiB0B,KAAME,WAYjClB,EAAQmB,IAAOC,GAAV,KASLnB,EAAWkB,IAAOE,EAAV,KAMRnB,EAAciB,YAAOG,IAAPH,CAAH,KAYXR,EAAUQ,IAAOI,IAAV,KAQPV,EAAUM,IAAOK,KAAV,KAKPZ,EAAYO,IAAOI,IAAV,KAETT,EAASK,IAAOK,KAAV,K,0tCC9JZ,IAkEeC,EAlEO,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAAgB,EACTrD,qBADS,mBAChCxB,EADgC,KACvB8E,EADuB,OAELtD,mBAAS,IAFJ,mBAEhC1B,EAFgC,KAErBiF,EAFqB,KAIjCC,EAAUC,cACVC,EAASpG,IAAMqG,YAAYC,SAM3BC,EAAoB,uCAAG,8BAAAxG,EAAA,+EAEF2B,EACrBqE,EAAU9E,YACVmF,EAAOI,OAJgB,gBAEjB7F,EAFiB,EAEjBA,KAIRqF,EAAWrF,GANc,gDAQpBX,IAAMyG,SAAN,OACHvC,QAAQF,MAAR,MATuB,yDAAH,qDAcpB0C,EAAsB,uCAAG,4BAAA3G,EAAA,+EAEL4B,EACpBoE,EAAUhF,cACVqF,EAAOI,OAJkB,OAErBpG,EAFqB,OAM3B6F,EAAa7F,GANc,gDAQtBJ,IAAMyG,SAAN,OACHvC,QAAQF,MAAR,MATyB,yDAAH,qDAsB5B,OARAb,qBAAU,WAGR,OAFAoD,IACAG,IACO,WACLN,EAAOO,OAAO,8CAEf,IAGD,oCACE,kBAACC,EAAD,CAAMxB,QAAS,kBA1CExE,EA0CgBmF,EAAUnF,QAzC7CsF,EAAQW,KAAR,qBAA2BjG,IADT,IAACA,IA2Cf,kBAAC,EAAD,KACGmF,EAAUpF,KACVO,GAAW,kBAAC4F,EAAD,SAAe5F,EAAf,MAEbF,EAAUL,KACT,kBAACoG,EAAD,aACQ/F,EAAUL,KADlB,iBACsCK,EAAUY,WADhD,KAIA,kBAAC,IAAD,CAAiByD,KAAM2B,IAAeC,MAAI,OAS9CL,EAAOpB,IAAOI,IAAV,KA0CJvB,EAAQmB,IAAO0B,GAAV,KAILH,EAAcvB,IAAOE,EAAV,KAIXoB,EAActB,IAAOK,KAAV,K,uaCxHjB,IAkBesB,EAlBO,SAAC,GAA+B,IAA7B3G,EAA4B,EAA5BA,WAAY8B,EAAgB,EAAhBA,UACnC,OACE,oCACIA,EAOA,kBAAC8E,GAAD,KACE,kBAAC,IAAD,CAAiB/B,KAAM2B,IAAeC,MAAI,EAACI,KAAK,QAPlD,kBAACC,GAAD,KACG9G,EAAWC,KAAI,SAACsF,GAAD,OACd,kBAAC,EAAD,CAAewB,IAAKxB,EAAUnF,GAAImF,UAAWA,UAcnDuB,GAAO9B,IAAOgC,GAAV,KAUJJ,GAAS5B,IAAOI,IAAV,KCjBG6B,GAhBI,WAAO,IAAD,EACW/E,oBAAS,GADpB,mBAChBJ,EADgB,KACLC,EADK,OAEaG,mBAAS,IAFtB,mBAEhBlC,EAFgB,KAEJ6B,EAFI,KAIvB,OACE,oCACE,kBAAC,EAAD,CACEA,cAAeA,EACfC,UAAWA,EACXC,aAAcA,IAEhB,kBAAC,EAAD,CAAe/B,WAAYA,EAAY8B,UAAWA,M,mnCCbxD,IAiCeoF,GAjCE,SAACvH,GAAU,IAAD,EACCuC,qBADD,mBAClBjB,EADkB,KACXkG,EADW,KAazB,OAVAxE,qBAAU,WAAO,IACP1B,EAAUtB,EAAVsB,MAMRkG,EAA0BlG,EAJbmG,MAAK,SAAC7H,EAAG8H,GAClB,OAAOC,KAAKC,MAAMF,EAAE1F,cAAgB2F,KAAKC,MAAMhI,EAAEoC,oBAIpD,IAGD,oCACE,kBAAC,GAAD,KACGV,GACCA,EAAMhB,KAAI,SAACuH,GAAD,OACR,kBAAC,GAAD,CAAMT,IAAKS,EAAK9F,OACd,kBAAC+F,GAAD,KACE,kBAAC,GAAD,KAAQD,EAAK9F,OACb,kBAAC,GAAD,KAAc8F,EAAKhG,gBAErB,kBAACkG,GAAD,KACE,4CAAkBF,EAAK7F,sBAWjCmF,GAAO9B,IAAOgC,GAAV,MASJZ,GAAOpB,IAAO2C,GAAV,MAaJF,GAAUzC,IAAOI,IAAV,MAEPvB,GAAQmB,IAAO0B,GAAV,MAOLH,GAAcvB,IAAOE,EAAV,MAMXwC,GAAS1C,IAAOI,IAAV,M,owDCtDZ,IAiIewC,GAjIO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACD3F,oBAAS,GADR,mBAC5BJ,EAD4B,KACjBC,EADiB,OAEDG,qBAFC,mBAE5BqD,EAF4B,KAEjBuC,EAFiB,OAGD5F,mBAAS,IAHR,mBAG5B1B,EAH4B,KAGjBiF,EAHiB,OAILvD,qBAJK,mBAI5BxB,EAJ4B,KAInB8E,EAJmB,OAKTtD,mBAAS,IALA,mBAK5BjB,EAL4B,KAKrBkG,EALqB,KAO7BvB,EAASpG,IAAMqG,YAAYC,SAC3BJ,EAAUC,cAKVoC,EAAsB,uCAAG,WAAO3H,GAAP,eAAAb,EAAA,sEAE3BwC,GAAa,GAFc,SAGLjB,EAAiBV,EAAIwF,EAAOI,OAHvB,OAGrBpG,EAHqB,OAI3BkI,EAAalI,GACbmC,GAAa,GALc,gDAOtBvC,IAAMyG,SAAN,QACH1C,IAAMC,MAAN,yBACAE,QAAQF,MAAR,OATyB,yDAAH,sDActB0C,EAAsB,uCAAG,WAAOvG,GAAP,iBAAAJ,EAAA,sEAEnBgB,EAAkBZ,EAAlBY,cAFmB,SAGLY,EAAiBZ,EAAeqF,EAAOI,OAHlC,OAGrBpG,EAHqB,OAI3B6F,EAAa7F,GAJc,gDAMtBJ,IAAMyG,SAAN,OACHvC,QAAQF,MAAR,MAPyB,yDAAH,sDAYtBuC,EAAoB,uCAAG,WAAOpG,GAAP,mBAAAJ,EAAA,sEAEjBkB,EAAgBd,EAAhBc,YAFiB,SAGFS,EAAeT,EAAamF,EAAOI,OAHjC,gBAGjB7F,EAHiB,EAGjBA,KACRqF,EAAWrF,GAJc,gDAMpBX,IAAMyG,SAAN,OACHvC,QAAQF,MAAR,MAPuB,yDAAH,sDAYpBwE,EAAyB,uCAAG,WAAOrI,GAAP,iBAAAJ,EAAA,sEAEtByB,EAAcrB,EAAdqB,UAFsB,SAGTiH,QAAQC,IAC3BlH,EAAUf,KAAI,SAACI,GACb,OAAOkB,EAAYlB,EAAKuF,EAAOI,WALL,OAGxB9F,EAHwB,OAQ9BiH,EAASjH,GARqB,gDAUzBV,IAAMyG,SAAN,OACHvC,QAAQF,MAAR,MAX4B,yDAAH,sDAoC/B,OApBAb,qBAAU,WAGR,OAFAoF,EAAuBF,EAAMM,OAAO/H,IAE7B,WACLwF,EAAOO,OAAO,+BAEf,IAEHxD,qBAAU,WAOR,OANI4C,IACFW,EAAuBX,GACvBQ,EAAqBR,GACrByC,EAA0BzC,IAGrB,WACLK,EAAOO,OAAO,8CAEf,CAACZ,IAGF,oCACIzD,EAgCA,kBAAC,GAAD,KACE,kBAAC,IAAD,CAAiB+C,KAAM2B,IAAeK,KAAK,KAAKJ,MAAI,KAhCtD,kBAAC2B,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,GAAD,KACG9C,GACC,kBAAC,GAAD,KACGA,EAAUpF,KACVO,GAAW,kBAAC,GAAD,SAAeA,EAAf,MAGfF,EAAUL,MACT,kBAAC,GAAD,aACQK,EAAUL,KADlB,iBACsCK,EAAUY,WADhD,MAKJ,kBAAC,GAAD,KACE,kBAACkH,GAAD,CAAa1D,QAjGL,WAClBc,EAAQW,KAAR,OAiGY,kBAAC,IAAD,CAAiBxB,KAAM0D,IAAS1B,KAAK,UAI3C,kBAAC,GAAD,KACG5F,EAAM,IACL,oCACE,kBAACuH,GAAD,6BACA,6BAAMvH,GAAS,kBAAC,GAAD,CAAUA,MAAOA,UAgB1CoH,GAASrD,IAAOI,IAAV,MAUNoD,GAAaxD,IAAOyD,GAAV,MAIVH,GAActD,IAAOK,KAAV,MAuCX+C,GAAUpD,IAAOI,IAAV,MAEPX,GAAYO,IAAOI,IAAV,MAETwB,GAAS5B,IAAOI,IAAV,MASNvB,GAAQmB,IAAOC,GAAV,MAILnB,GAAWkB,IAAOE,EAAV,MAIRoB,GAActB,IAAOK,KAAV,M,8aC/NjB,IAWeqD,GAXM,WACnB,OACE,oCACE,kBAAC,GAAD,KACE,kBAAC,GAAD,YACA,kBAAC,GAAD,qDAQFjE,GAAYO,IAAOI,IAAV,MAOTvB,GAAQmB,IAAOC,GAAV,MAMLnB,GAAWkB,IAAO2D,GAAV,M,sJCnBd,IAAMP,GAAUpD,IAAOI,IAAV,MAsBEwD,GAfH,WACV,OACE,kBAAC,GAAD,KACE,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAYC,SAAUC,iBACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWhC,KACjC,kBAAC,IAAD,CAAO8B,OAAK,EAACC,KAAK,iBAAiBC,UAAWrB,KAC9C,kBAAC,IAAD,CAAOqB,UAAWP,SCbRQ,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASxB,MACvB,2DCXNyB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEF5G,SAAS6G,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAxG,GACLE,QAAQF,MAAMA,EAAMyG,a","file":"static/js/main.cd30f98d.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const getCharacterSearchResults = async (query) => {\n  const response = await axios.get(\n    `https://swapi.dev/api/people/?search=${query}`\n  );\n  const { results, count, next, previous } = response.data;\n  const characters = results.map((result) => ({\n    name: result.name,\n    id: result.url.split('/')[5],\n    homeworld_url: result.homeworld,\n    species_url: result.species[0],\n  }));\n  return { characters, count, next, previous };\n};\n\nexport const getPageResults = async (url) => {\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl);\n  const { results, next, previous } = response.data;\n  const characters = results.map((result) => ({\n    name: result.name,\n    id: result.url.split('/')[5],\n    homeworld_url: result.homeworld,\n    species_url: result.species[0],\n  }));\n  return { characters, next, previous };\n};\n\nexport const getCharacterInfo = async (id, cancelToken) => {\n  const response = await axios.get(`https://swapi.dev/api/people/${id}/`, {\n    cancelToken: cancelToken,\n  });\n  const data = response.data;\n  return {\n    name: data.name,\n    id,\n    homeworld_url: data.homeworld,\n    species_url: data.species[0],\n    films_url: data.films,\n  };\n};\n\nexport const getSpeciesInfo = async (url, cancelToken) => {\n  if (!url) {\n    throw 'No valid species found';\n  }\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl, {\n    cancelToken: cancelToken,\n  });\n  const data = response.data;\n  return {\n    name: data.name,\n  };\n};\n\nexport const getHomeworldInfo = async (url, cancelToken) => {\n  if (!url) {\n    return {};\n  }\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl, {\n    cancelToken: cancelToken,\n  });\n  const data = response.data;\n\n  let population = data.population;\n  if (population !== 'unknown') {\n    population = parseInt(population).toLocaleString();\n  }\n  return {\n    name: data.name,\n    population: population,\n  };\n};\n\nexport const getFilmInfo = async (url, cancelToken) => {\n  if (!url) {\n    return {};\n  }\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl, {\n    cancelToken: cancelToken,\n  });\n  const data = response.data;\n  // Clip opening crawl to first 150 characters\n  const opening_crawl = data.opening_crawl.substring(0, 150);\n  return {\n    title: data.title,\n    release_date: data.release_date,\n    opening_crawl: opening_crawl,\n  };\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport { AsyncTypeahead } from 'react-bootstrap-typeahead';\nimport styled from 'styled-components';\n\nimport { toast } from 'react-toastify';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nimport { getCharacterSearchResults, getPageResults } from '../lib/api';\n\nconst SearchBar = ({ setCharacters, isLoading, setIsLoading }) => {\n  const ref = useRef();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchResultCount, setSearchResultCount] = useState(0);\n  const [nextPageUrl, setNextPageUrl] = useState('');\n  const [prevPageUrl, setPrevPageUrl] = useState('');\n\n  // Focus on search bar on render for better UX\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeypress);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeypress);\n    };\n  }, []);\n\n  const handleKeypress = (e) => {\n    ref.current.focus();\n  };\n\n  const handlePageChange = async (event) => {\n    try {\n      setIsLoading(true);\n      let pageResults;\n      if (event.target.id === 'next') {\n        pageResults = await getPageResults(nextPageUrl);\n        setCurrentPage(currentPage + 1);\n      } else {\n        pageResults = await getPageResults(prevPageUrl);\n        setCurrentPage(currentPage - 1);\n      }\n      setCharacters(pageResults.characters);\n      setNextPageUrl(pageResults.next);\n      setPrevPageUrl(pageResults.previous);\n      setIsLoading(false);\n    } catch (err) {\n      toast.error(err.response.data.detail);\n      console.error(err);\n    }\n  };\n\n  const handleNewSearch = async (query) => {\n    try {\n      setIsLoading(true);\n      // reset current page to 1 on new query\n      setCurrentPage(1);\n      const searchResults = await getCharacterSearchResults(query);\n      setCharacters(searchResults.characters);\n      setSearchResultCount(searchResults.count);\n      setNextPageUrl(searchResults.next);\n      setPrevPageUrl(searchResults.previous);\n      setIsLoading(false);\n    } catch (err) {\n      toast.error(err.response.data.detail);\n      console.error(err);\n    }\n  };\n\n  // If query is empty, empty the results\n  const checkEmpty = (query) => {\n    if (!query) {\n      setSearchResultCount(0);\n      setCharacters([]);\n    }\n  };\n\n  return (\n    <>\n      <Title>SWAPI SEARCH</Title>\n      <Subtitle>Find your favorite Star Wars character!</Subtitle>\n      <SearchInput\n        placeholder=\"Start typing to search for a character\"\n        id=\"characterSearch\"\n        isLoading={isLoading}\n        labelKey={(option) => option.name}\n        onSearch={handleNewSearch}\n        onInputChange={checkEmpty}\n        minLength={1}\n        useCache={false}\n        open={false}\n        ref={ref}\n      />\n      {!!searchResultCount && (\n        <MenuBar>\n          <Container>\n            <p>\n              {searchResultCount} <span>results</span>\n              <Divider>|</Divider>\n              Page: {currentPage}\n            </p>\n          </Container>\n          <Container>\n            {prevPageUrl && (\n              <Button id=\"previous\" onClick={handlePageChange}>\n                <FontAwesomeIcon icon={faChevronLeft} />\n                Prev\n              </Button>\n            )}\n            {nextPageUrl && (\n              <Button id=\"next\" onClick={handlePageChange}>\n                Next\n                <FontAwesomeIcon icon={faChevronRight} />\n              </Button>\n            )}\n          </Container>\n        </MenuBar>\n      )}\n    </>\n  );\n};\n\nexport default SearchBar;\n\nconst Title = styled.h1`\n  text-align: center;\n  color: #ffe81f;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 4rem;\n  margin-top: 0;\n`;\n\nconst Subtitle = styled.p`\n  font-size: 1.85rem;\n  text-align: center;\n  margin-bottom: 2.25em;\n`;\n\nconst SearchInput = styled(AsyncTypeahead)`\n  input {\n    padding: 10px 8px;\n    width: 100%;\n    -webkit-appearance: none;\n    appearance: none;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    font-size: 1.65rem;\n  }\n`;\n\nconst MenuBar = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 15px 0;\n  font-size: 0.85rem;\n`;\n\nconst Divider = styled.span`\n  display: inline-block;\n  margin: 0 10px;\n`;\n\nconst Container = styled.div``;\n\nconst Button = styled.span`\n  display: inline-block;\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 8px;\n  text-transform: uppercase;\n\n  svg {\n    pointer-events: none;\n    margin: 0 8px;\n  }\n\n  &:last-of-type {\n    margin-right: 0px;\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\nimport { getHomeworldInfo, getSpeciesInfo } from '../lib/api';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\n\nconst CharacterCard = ({ character }) => {\n  const [species, setSpecies] = useState();\n  const [homeworld, setHomeworld] = useState({});\n\n  const history = useHistory();\n  const signal = axios.CancelToken.source();\n\n  const handleClick = (id) => {\n    history.push(`/character/${id}`);\n  };\n\n  const handleSpeciesRequest = async () => {\n    try {\n      const { name } = await getSpeciesInfo(\n        character.species_url,\n        signal.token\n      );\n      setSpecies(name);\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  const handleHomeworldRequest = async () => {\n    try {\n      const results = await getHomeworldInfo(\n        character.homeworld_url,\n        signal.token\n      );\n      setHomeworld(results);\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  useEffect(() => {\n    handleSpeciesRequest();\n    handleHomeworldRequest();\n    return () => {\n      signal.cancel('Component unmounted, canceling promises');\n    };\n  }, []);\n\n  return (\n    <>\n      <Card onClick={() => handleClick(character.id)}>\n        <Title>\n          {character.name}\n          {species && <SpeciesText>({species})</SpeciesText>}\n        </Title>\n        {homeworld.name ? (\n          <Description>\n            From {homeworld.name} (population: {homeworld.population})\n          </Description>\n        ) : (\n          <FontAwesomeIcon icon={faCircleNotch} spin />\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default CharacterCard;\n\nconst Card = styled.div`\n  cursor: pointer;\n  list-style-type: none;\n  border-radius: 4px;\n  width: 100%;\n  padding: 2em;\n  margin-bottom: 2em;\n  background: rgba(255, 255, 255, 0.05);\n  transform: scale(0.98);\n  transition: background 0.2s ease-in-out, transform 0.2s ease-in-out;\n  position: relative;\n\n  @media only screen and (min-width: 600px) {\n    width: calc(50% - 1em);\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    border-radius: inherit;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    display: block;\n    box-shadow: 0px 0px 0px 1px #ffe81f;\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.16);\n    transform: scale(1);\n    transition: background 0.2s ease-in-out, transform 0.2s ease-in-out;\n\n    &:before {\n      opacity: 1;\n      transition: opacity 0.2s ease-in-out;\n    }\n  }\n`;\n\nconst Title = styled.h3`\n  margin-top: 0;\n`;\n\nconst Description = styled.p`\n  margin: 0;\n`;\n\nconst SpeciesText = styled.span`\n  margin-left: 5px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport CharacterCard from './CharacterCard';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\n\nconst CharacterList = ({ characters, isLoading }) => {\n  return (\n    <>\n      {!isLoading ? (\n        <List>\n          {characters.map((character) => (\n            <CharacterCard key={character.id} character={character} />\n          ))}\n        </List>\n      ) : (\n        <Loader>\n          <FontAwesomeIcon icon={faCircleNotch} spin size=\"5x\" />\n        </Loader>\n      )}\n    </>\n  );\n};\n\nexport default CharacterList;\n\nconst List = styled.ul`\n  padding: 0;\n  list-style-type: none;\n  text-align: center;\n  margin: 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n\nconst Loader = styled.div`\n  margin-top: 50px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n","import React, { useState } from 'react';\n\nimport SearchBar from './SearchBar';\nimport CharacterList from './CharacterList';\n\nconst SearchPage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [characters, setCharacters] = useState([]);\n\n  return (\n    <>\n      <SearchBar\n        setCharacters={setCharacters}\n        isLoading={isLoading}\n        setIsLoading={setIsLoading}\n      />\n      <CharacterList characters={characters} isLoading={isLoading} />\n    </>\n  );\n};\n\nexport default SearchPage;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst FilmList = (data) => {\n  const [films, setFilms] = useState();\n\n  useEffect(() => {\n    const { films } = data;\n    const sortByDescending = (obj) => {\n      return obj.sort((a, b) => {\n        return Date.parse(b.release_date) - Date.parse(a.release_date);\n      });\n    };\n    setFilms(sortByDescending(films));\n  }, []);\n\n  return (\n    <>\n      <List>\n        {films &&\n          films.map((film) => (\n            <Card key={film.title}>\n              <Content>\n                <Title>{film.title}</Title>\n                <Description>{film.opening_crawl}</Description>\n              </Content>\n              <Footer>\n                <p>Release date: {film.release_date}</p>\n              </Footer>\n            </Card>\n          ))}\n      </List>\n    </>\n  );\n};\n\nexport default FilmList;\n\nconst List = styled.ul`\n  padding: 0;\n  list-style-type: none;\n  margin: 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n\nconst Card = styled.li`\n  list-style-type: none;\n  width: calc(50% - 15px);\n  padding: 30px;\n  border-radius: 8px;\n  margin-bottom: 30px;\n  background: rgba(255, 255, 255, 0.08);\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nconst Content = styled.div``;\n\nconst Title = styled.h3`\n  // text-transform: uppercase;\n  font-size: 1.4rem;\n  margin-top: 0;\n  font-weight: bolder;\n`;\n\nconst Description = styled.p`\n  font-size: 1.1rem;\n  line-height: 1.85;\n  margin: 20px 0;\n`;\n\nconst Footer = styled.div`\n  font-size: 1rem;\n  align-self: bottom;\n  p {\n    width: 100%;\n    padding-top: 15px;\n    margin-bottom: 0;\n    border-top: 1px solid white;\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { useHistory } from 'react-router-dom';\n\nimport {\n  getCharacterInfo,\n  getHomeworldInfo,\n  getSpeciesInfo,\n  getFilmInfo,\n} from '../lib/api';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\n\nimport FilmList from './FilmList';\n\nconst CharacterPage = ({ match }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [character, setCharacter] = useState();\n  const [homeworld, setHomeworld] = useState({});\n  const [species, setSpecies] = useState();\n  const [films, setFilms] = useState({});\n\n  const signal = axios.CancelToken.source();\n  const history = useHistory();\n  const handleClose = () => {\n    history.push(`/`);\n  };\n\n  const handleCharacterRequest = async (id) => {\n    try {\n      setIsLoading(true);\n      const results = await getCharacterInfo(id, signal.token);\n      setCharacter(results);\n      setIsLoading(false);\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        toast.error(`Something went wrong.`);\n        console.error(err);\n      }\n    }\n  };\n\n  const handleHomeworldRequest = async (data) => {\n    try {\n      const { homeworld_url } = data;\n      const results = await getHomeworldInfo(homeworld_url, signal.token);\n      setHomeworld(results);\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  const handleSpeciesRequest = async (data) => {\n    try {\n      const { species_url } = data;\n      const { name } = await getSpeciesInfo(species_url, signal.token);\n      setSpecies(name);\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  const handleMultipleFilmRequest = async (data) => {\n    try {\n      const { films_url } = data;\n      const result = await Promise.all(\n        films_url.map((url) => {\n          return getFilmInfo(url, signal.token);\n        })\n      );\n      setFilms(result);\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  useEffect(() => {\n    handleCharacterRequest(match.params.id);\n\n    return () => {\n      signal.cancel('API Get request canceled');\n    };\n  }, []);\n\n  useEffect(() => {\n    if (character) {\n      handleHomeworldRequest(character);\n      handleSpeciesRequest(character);\n      handleMultipleFilmRequest(character);\n    }\n\n    return () => {\n      signal.cancel('Component unmounted, canceling promises');\n    };\n  }, [character]);\n\n  return (\n    <>\n      {!isLoading ? (\n        <Wrapper>\n          <Header>\n            <Container>\n              {character && (\n                <Title>\n                  {character.name}\n                  {species && <SpeciesText>({species})</SpeciesText>}\n                </Title>\n              )}\n              {homeworld.name && (\n                <Subtitle>\n                  From {homeworld.name} (population: {homeworld.population})\n                </Subtitle>\n              )}\n            </Container>\n            <Container>\n              <CloseButton onClick={handleClose}>\n                <FontAwesomeIcon icon={faTimes} size=\"lg\" />\n              </CloseButton>\n            </Container>\n          </Header>\n          <Container>\n            {films[0] && (\n              <>\n                <LabelTitle>Film(s) appeared in:</LabelTitle>\n                <div>{films && <FilmList films={films} />}</div>\n              </>\n            )}\n          </Container>\n        </Wrapper>\n      ) : (\n        <Loader>\n          <FontAwesomeIcon icon={faCircleNotch} size=\"6x\" spin />\n        </Loader>\n      )}\n    </>\n  );\n};\n\nexport default CharacterPage;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid white;\n  padding-bottom: 0.75em;\n  margin-top: 0;\n  margin-bottom: 2.5em;\n`;\n\nconst LabelTitle = styled.h4`\n  margin-bottom: 30px;\n`;\n\nconst CloseButton = styled.span`\n  cursor: pointer;\n  background: rgba(255, 255, 255, 0);\n  padding: 15px;\n  border-radius: 40px;\n  position: relative;\n\n  svg {\n    pointer-events: none;\n  }\n\n  &:after {\n    content: 'Close';\n    font-size: smaller;\n    font-weight: bolder;\n    padding: 4px;\n    bottom: 5px;\n    position: absolute;\n    left: 50%;\n    bottom: -30px;\n    background: black;\n    text-transform: uppercase;\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n    opacity: 0;\n    z-index: 5;\n    transition: all 0.25s ease-in-out;\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.12);\n\n    &:after {\n      opacity: 1;\n      transform: translate(-50%, -40%);\n      transition: all 0.25s ease-in-out;\n    }\n  }\n`;\nconst Wrapper = styled.div``;\n\nconst Container = styled.div``;\n\nconst Loader = styled.div`\n  width: 100%;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nconst Title = styled.h1`\n  font-size: 2.75rem;\n`;\n\nconst Subtitle = styled.p`\n  font-size: 1.5rem;\n`;\n\nconst SpeciesText = styled.span`\n  margin-left: 8px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst NotFoundPage = () => {\n  return (\n    <>\n      <Container>\n        <Title>404</Title>\n        <Subtitle>This is not the page you are looking for.</Subtitle>\n      </Container>\n    </>\n  );\n};\n\nexport default NotFoundPage;\n\nconst Container = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n`;\nconst Title = styled.h1`\n  font-size: 10rem;\n  font-weight: 800;\n  margin-top: 0;\n  margin-bottom: 0;\n`;\nconst Subtitle = styled.h2`\n  font-size: 3rem;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport SearchPage from './components/SearchPage';\nimport CharacterPage from './components/CharacterPage';\nimport NotFoundPage from './components/NotFoundPage';\n\nconst Wrapper = styled.div`\n  padding: 4em 20px;\n  max-width: 1000px;\n  width: 100%;\n  margin: auto;\n`;\n\nconst App = () => {\n  return (\n    <Wrapper>\n      <ToastContainer />\n      <HashRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/\" component={SearchPage} />\n          <Route exact path=\"/character/:id\" component={CharacterPage} />\n          <Route component={NotFoundPage} />\n        </Switch>\n      </HashRouter>\n    </Wrapper>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}