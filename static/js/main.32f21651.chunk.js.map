{"version":3,"sources":["lib/api.js","components/SearchBar.js","components/CharacterCard.js","components/CharacterList.js","components/SearchPage.js","components/FilmList.js","components/CharacterPage.js","components/NotFoundPage.js","App.js","index.js"],"names":["getCharacterSearchResults","query","a","axios","get","response","data","results","count","next","previous","characters","map","result","name","id","url","split","homeworld_url","homeworld","species_url","species","getPageResults","httpsUrl","replace","getCharacterInfo","cancelToken","films_url","films","getSpeciesInfo","getHomeworldInfo","population","parseInt","toLocaleString","getFilmInfo","opening_crawl","substring","title","release_date","SearchBar","setCharacters","isLoading","setIsLoading","ref","useRef","useState","currentPage","setCurrentPage","searchResultCount","setSearchResultCount","nextPageUrl","setNextPageUrl","prevPageUrl","setPrevPageUrl","showNoResults","setShowNoResults","useEffect","current","focus","document","addEventListener","handleKeypress","removeEventListener","handlePageChange","event","target","pageResults","toast","error","console","handleNewSearch","searchResults","Title","Subtitle","SearchInput","placeholder","labelKey","option","onSearch","onInputChange","minLength","useCache","open","MenuBar","Container","Divider","Button","onClick","icon","faChevronLeft","faChevronRight","EmptyStateBox","MessageTitle","MessageSubtitle","styled","h1","p","AsyncTypeahead","div","span","h4","CharacterCard","character","setSpecies","setHomeworld","history","useHistory","signal","CancelToken","source","handleSpeciesRequest","token","isCancel","handleHomeworldRequest","cancel","Card","push","SpeciesText","Description","faCircleNotch","spin","h3","CharacterList","Loader","size","List","key","ul","SearchPage","FilmList","setFilms","sort","b","Date","parse","film","Content","Footer","li","CharacterPage","match","setCharacter","handleCharacterRequest","handleMultipleFilmRequest","Promise","all","params","Wrapper","Header","CloseButton","faTimes","LabelTitle","NotFoundPage","h2","App","basename","process","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.32f21651.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const getCharacterSearchResults = async (query) => {\n  const response = await axios.get(\n    `https://swapi.dev/api/people/?search=${query}`\n  );\n  const { results, count, next, previous } = response.data;\n  const characters = results.map((result) => ({\n    name: result.name,\n    id: result.url.split('/')[5],\n    homeworld_url: result.homeworld,\n    species_url: result.species[0],\n  }));\n  return { characters, count, next, previous };\n};\n\nexport const getPageResults = async (url) => {\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl);\n  const { results, next, previous } = response.data;\n  const characters = results.map((result) => ({\n    name: result.name,\n    id: result.url.split('/')[5],\n    homeworld_url: result.homeworld,\n    species_url: result.species[0],\n  }));\n  return { characters, next, previous };\n};\n\nexport const getCharacterInfo = async (id, cancelToken) => {\n  const response = await axios.get(`https://swapi.dev/api/people/${id}/`, {\n    cancelToken,\n  });\n  const data = response.data;\n  return {\n    name: data.name,\n    id,\n    homeworld_url: data.homeworld,\n    species_url: data.species[0],\n    films_url: data.films,\n  };\n};\n\nexport const getSpeciesInfo = async (url, cancelToken) => {\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl, {\n    cancelToken,\n  });\n  const data = response.data;\n  return {\n    name: data.name,\n  };\n};\n\nexport const getHomeworldInfo = async (url, cancelToken) => {\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl, {\n    cancelToken,\n  });\n  const data = response.data;\n\n  let population = data.population;\n  if (population !== 'unknown') {\n    population = parseInt(population).toLocaleString();\n  }\n  return {\n    name: data.name,\n    population: population,\n  };\n};\n\nexport const getFilmInfo = async (url, cancelToken) => {\n  const httpsUrl = url.replace(/^http:\\/\\//i, 'https://');\n  const response = await axios.get(httpsUrl, {\n    cancelToken,\n  });\n  const data = response.data;\n  // Clip opening crawl to first 150 characters\n  const opening_crawl = data.opening_crawl.substring(0, 150);\n  return {\n    title: data.title,\n    release_date: data.release_date,\n    opening_crawl: opening_crawl,\n  };\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport { AsyncTypeahead } from 'react-bootstrap-typeahead';\nimport styled from 'styled-components';\n\nimport { toast } from 'react-toastify';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons';\n\nimport { getCharacterSearchResults, getPageResults } from '../lib/api';\n\nconst SearchBar = ({ setCharacters, isLoading, setIsLoading }) => {\n  const ref = useRef();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchResultCount, setSearchResultCount] = useState(0);\n  const [nextPageUrl, setNextPageUrl] = useState('');\n  const [prevPageUrl, setPrevPageUrl] = useState('');\n  const [showNoResults, setShowNoResults] = useState(false);\n\n  // Focus on search bar on render for better UX\n  useEffect(() => {\n    ref.current.focus();\n    document.addEventListener('keydown', handleKeypress);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeypress);\n    };\n  }, []);\n\n  const handleKeypress = () => {\n    ref.current.focus();\n  };\n\n  const handlePageChange = async (event) => {\n    try {\n      setIsLoading(true);\n      let pageResults;\n      if (event.target.id === 'next') {\n        pageResults = await getPageResults(nextPageUrl);\n        setCurrentPage(currentPage + 1);\n      } else {\n        pageResults = await getPageResults(prevPageUrl);\n        setCurrentPage(currentPage - 1);\n      }\n      setCharacters(pageResults.characters);\n      setNextPageUrl(pageResults.next);\n      setPrevPageUrl(pageResults.previous);\n      setIsLoading(false);\n    } catch (err) {\n      toast.error(err);\n      console.error(err);\n    }\n  };\n\n  const handleNewSearch = async (query) => {\n    try {\n      setIsLoading(true);\n      // reset current page to 1 on new query\n      setCurrentPage(1);\n      const searchResults = await getCharacterSearchResults(query);\n      setCharacters(searchResults.characters);\n      setSearchResultCount(searchResults.count);\n      setNextPageUrl(searchResults.next);\n      setPrevPageUrl(searchResults.previous);\n      setShowNoResults(!searchResults.count);\n\n      setIsLoading(false);\n    } catch (err) {\n      toast.error(err);\n      console.error(err);\n    }\n  };\n\n  // If query is empty, empty the results\n  const checkEmpty = (query) => {\n    if (!query) {\n      setSearchResultCount(0);\n      setCharacters([]);\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Title>SWAPI SEARCH</Title>\n      <Subtitle>Find your favorite Star Wars character!</Subtitle>\n      <SearchInput\n        placeholder=\"Start typing to search\"\n        id=\"characterSearch\"\n        isLoading={isLoading}\n        labelKey={(option) => option.name}\n        onSearch={handleNewSearch}\n        onInputChange={checkEmpty}\n        minLength={1}\n        useCache={false}\n        open={false}\n        ref={ref}\n      />\n      {!!searchResultCount && (\n        <MenuBar>\n          <Container>\n            <p>\n              {searchResultCount} <span>results</span>\n              <Divider>|</Divider>\n              Page: {currentPage}\n            </p>\n          </Container>\n          <Container>\n            {prevPageUrl && (\n              <Button id=\"previous\" onClick={handlePageChange}>\n                <FontAwesomeIcon icon={faChevronLeft} />\n                Prev\n              </Button>\n            )}\n            {nextPageUrl && (\n              <Button id=\"next\" onClick={handlePageChange}>\n                Next\n                <FontAwesomeIcon icon={faChevronRight} />\n              </Button>\n            )}\n          </Container>\n        </MenuBar>\n      )}\n\n      {showNoResults && !isLoading && (\n        <EmptyStateBox>\n          <MessageTitle>No results found</MessageTitle>\n          <MessageSubtitle>\n            Try adjusting your search to find the character you are looking for.\n          </MessageSubtitle>\n        </EmptyStateBox>\n      )}\n    </>\n  );\n};\n\nexport default SearchBar;\n\nconst Title = styled.h1`\n  text-align: center;\n  color: #ffe81f;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 2.5rem;\n  margin-top: 0;\n  @media only screen and (min-width: 600px) {\n    font-size: 4rem;\n  }\n`;\n\nconst Subtitle = styled.p`\n  font-size: 1.1rem;\n  text-align: center;\n  margin-bottom: 2.25em;\n  @media only screen and (min-width: 600px) {\n    font-size: 1.85rem;\n  }\n`;\n\nconst SearchInput = styled(AsyncTypeahead)`\n  input {\n    padding: 10px 8px;\n    width: 100%;\n    -webkit-appearance: none;\n    appearance: none;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    margin-bottom: 15px;\n    font-size: 1.1rem;\n    @media only screen and (min-width: 600px) {\n      font-size: 1.65rem;\n    }\n  }\n`;\n\nconst MenuBar = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.85rem;\n`;\n\nconst Divider = styled.span`\n  display: inline-block;\n  margin: 0 10px;\n`;\n\nconst Container = styled.div``;\n\nconst Button = styled.span`\n  display: inline-block;\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 8px;\n  text-transform: uppercase;\n\n  svg {\n    pointer-events: none;\n    margin: 0 8px;\n  }\n\n  &:last-of-type {\n    margin-right: 0px;\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst EmptyStateBox = styled.div`\n  width: 100%;\n  height: 200px;\n  margin-top: 50px;\n  background: rgba(255, 255, 255, 0.08);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  padding: 20px;\n\n  @media only screen and (min-width: 600px) {\n    height: 350px;\n  }\n`;\n\nconst MessageTitle = styled.h4`\n  margin: 0;\n  font-size: 1.5rem;\n  display: block;\n  @media only screen and (min-width: 600px) {\n    font-size: 2rem;\n  }\n`;\nconst MessageSubtitle = styled.p`\n  display: block;\n  @media only screen and (min-width: 600px) {\n    font-size: 1.25rem;\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\nimport { getHomeworldInfo, getSpeciesInfo } from '../lib/api';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\n\nconst CharacterCard = ({ character }) => {\n  const [species, setSpecies] = useState();\n  const [homeworld, setHomeworld] = useState({});\n\n  const history = useHistory();\n  const signal = axios.CancelToken.source();\n\n  const handleClick = (id) => {\n    history.push(`/character/${id}`);\n  };\n\n  const handleSpeciesRequest = async () => {\n    try {\n      if (character.species_url) {\n        const { name } = await getSpeciesInfo(\n          character.species_url,\n          signal.token\n        );\n        setSpecies(name);\n      }\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  const handleHomeworldRequest = async () => {\n    try {\n      if (character.homeworld_url) {\n        const results = await getHomeworldInfo(\n          character.homeworld_url,\n          signal.token\n        );\n        setHomeworld(results);\n      }\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  useEffect(() => {\n    handleSpeciesRequest();\n    handleHomeworldRequest();\n    return () => {\n      signal.cancel();\n    };\n  }, []);\n\n  return (\n    <>\n      <Card onClick={() => handleClick(character.id)}>\n        <Title>\n          {character.name}\n          {species && <SpeciesText>({species})</SpeciesText>}\n        </Title>\n        {homeworld.name ? (\n          <Description>\n            From {homeworld.name} (population: {homeworld.population})\n          </Description>\n        ) : (\n          <FontAwesomeIcon icon={faCircleNotch} spin />\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default CharacterCard;\n\nconst Card = styled.div`\n  cursor: pointer;\n  list-style-type: none;\n  border-radius: 4px;\n  width: 100%;\n  padding: 2em;\n  margin-bottom: 2em;\n  background: rgba(255, 255, 255, 0.08);\n  transform: scale(0.98);\n  transition: background 0.2s ease-in-out, transform 0.2s ease-in-out;\n  position: relative;\n\n  @media only screen and (min-width: 600px) {\n    width: calc(50% - 1em);\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    border-radius: inherit;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    display: block;\n    box-shadow: 0px 0px 0px 1px #ffe81f;\n    opacity: 0;\n    transition: opacity 0.2s ease-in-out;\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.16);\n    transform: scale(1);\n    transition: background 0.2s ease-in-out, transform 0.2s ease-in-out;\n\n    &:before {\n      opacity: 1;\n      transition: opacity 0.2s ease-in-out;\n    }\n  }\n`;\n\nconst Title = styled.h3`\n  margin-top: 0;\n`;\n\nconst Description = styled.p`\n  margin: 0;\n`;\n\nconst SpeciesText = styled.span`\n  margin-left: 5px;\n`;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport CharacterCard from './CharacterCard';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\n\nconst CharacterList = ({ characters, isLoading }) => {\n  return (\n    <>\n      {!isLoading ? (\n        <List>\n          {characters.map((character) => (\n            <CharacterCard key={character.id} character={character} />\n          ))}\n        </List>\n      ) : (\n        <Loader>\n          <FontAwesomeIcon icon={faCircleNotch} spin size=\"5x\" />\n        </Loader>\n      )}\n    </>\n  );\n};\n\nexport default CharacterList;\n\nconst List = styled.ul`\n  padding: 0;\n  list-style-type: none;\n  text-align: center;\n  margin: 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n\nconst Loader = styled.div`\n  width: 100%;\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n","import React, { useState } from 'react';\n\nimport SearchBar from './SearchBar';\nimport CharacterList from './CharacterList';\n\nconst SearchPage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [characters, setCharacters] = useState([]);\n\n  return (\n    <>\n      <SearchBar\n        setCharacters={setCharacters}\n        isLoading={isLoading}\n        setIsLoading={setIsLoading}\n      />\n      <CharacterList characters={characters} isLoading={isLoading} />\n    </>\n  );\n};\n\nexport default SearchPage;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst FilmList = (data) => {\n  const [films, setFilms] = useState();\n\n  useEffect(() => {\n    const { films } = data;\n    const sortByDescending = (obj) => {\n      return obj.sort((a, b) => {\n        return Date.parse(b.release_date) - Date.parse(a.release_date);\n      });\n    };\n    setFilms(sortByDescending(films));\n  }, []);\n\n  return (\n    <>\n      <List>\n        {films &&\n          films.map((film) => (\n            <Card key={film.title}>\n              <Content>\n                <Title>{film.title}</Title>\n                <Description>{film.opening_crawl}</Description>\n              </Content>\n              <Footer>\n                <p>Release date: {film.release_date}</p>\n              </Footer>\n            </Card>\n          ))}\n      </List>\n    </>\n  );\n};\n\nexport default FilmList;\n\nconst List = styled.ul`\n  padding: 0;\n  list-style-type: none;\n  margin: 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n\nconst Card = styled.li`\n  list-style-type: none;\n  padding: 30px;\n  border-radius: 8px;\n  margin-bottom: 25px;\n  background: rgba(255, 255, 255, 0.08);\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 100%;\n  @media only screen and (min-width: 600px) {\n    width: calc(50% - 15px);\n    margin-bottom: 30px;\n  }\n`;\n\nconst Content = styled.div``;\n\nconst Title = styled.h3`\n  // text-transform: uppercase;\n  font-size: 1.15rem;\n  margin-top: 0;\n  font-weight: bolder;\n  @media only screen and (min-width: 600px) {\n    font-size: 1.4rem;\n  }\n`;\n\nconst Description = styled.p`\n  line-height: 1.65;\n  margin: 20px 0;\n\n  @media only screen and (min-width: 600px) {\n    font-size: 1.1rem;\n    line-height: 1.85;\n  }\n`;\n\nconst Footer = styled.div`\n  font-size: 1rem;\n  align-self: bottom;\n  p {\n    width: 100%;\n    padding-top: 15px;\n    margin-bottom: 0;\n    border-top: 1px solid white;\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { useHistory } from 'react-router-dom';\n\nimport {\n  getCharacterInfo,\n  getHomeworldInfo,\n  getSpeciesInfo,\n  getFilmInfo,\n} from '../lib/api';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\n\nimport FilmList from './FilmList';\n\nconst CharacterPage = ({ match }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [character, setCharacter] = useState();\n  const [homeworld, setHomeworld] = useState({});\n  const [species, setSpecies] = useState();\n  const [films, setFilms] = useState({});\n\n  const signal = axios.CancelToken.source();\n  const history = useHistory();\n  const handleClose = () => {\n    history.push(`/`);\n  };\n\n  const handleCharacterRequest = async (id) => {\n    try {\n      setIsLoading(true);\n      const results = await getCharacterInfo(id, signal.token);\n      setCharacter(results);\n      setIsLoading(false);\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        toast.error(`Something went wrong.`);\n        console.error(err);\n      }\n    }\n  };\n\n  const handleHomeworldRequest = async (data) => {\n    try {\n      const { homeworld_url } = data;\n      if (homeworld_url) {\n        const results = await getHomeworldInfo(homeworld_url, signal.token);\n        setHomeworld(results);\n      }\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  const handleSpeciesRequest = async (data) => {\n    try {\n      const { species_url } = data;\n      if (species_url) {\n        const { name } = await getSpeciesInfo(species_url, signal.token);\n        setSpecies(name);\n      }\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  const handleMultipleFilmRequest = async (data) => {\n    try {\n      const { films_url } = data;\n      if (films_url) {\n        const result = await Promise.all(\n          films_url.map((url) => {\n            return getFilmInfo(url, signal.token);\n          })\n        );\n        setFilms(result);\n      }\n    } catch (err) {\n      if (!axios.isCancel(err)) {\n        console.error(err);\n      }\n    }\n  };\n\n  useEffect(() => {\n    handleCharacterRequest(match.params.id);\n\n    return () => {\n      signal.cancel();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (character) {\n      handleHomeworldRequest(character);\n      handleSpeciesRequest(character);\n      handleMultipleFilmRequest(character);\n    }\n\n    return () => {\n      signal.cancel();\n    };\n  }, [character]);\n\n  return (\n    <>\n      {!isLoading ? (\n        <Wrapper>\n          <Header>\n            <Container>\n              {character && (\n                <Title>\n                  {character.name}\n                  {species && <SpeciesText>({species})</SpeciesText>}\n                </Title>\n              )}\n              {homeworld.name && (\n                <Subtitle>\n                  From {homeworld.name} (population: {homeworld.population})\n                </Subtitle>\n              )}\n            </Container>\n            <Container>\n              <CloseButton onClick={handleClose}>\n                <FontAwesomeIcon icon={faTimes} size=\"lg\" />\n              </CloseButton>\n            </Container>\n          </Header>\n          <Container>\n            {films[0] && (\n              <>\n                <LabelTitle>Film(s) appeared in:</LabelTitle>\n                <div>{films && <FilmList films={films} />}</div>\n              </>\n            )}\n          </Container>\n        </Wrapper>\n      ) : (\n        <Loader>\n          <FontAwesomeIcon icon={faCircleNotch} size=\"6x\" spin />\n        </Loader>\n      )}\n    </>\n  );\n};\n\nexport default CharacterPage;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid white;\n  padding-bottom: 0.75em;\n  margin-bottom: 2.5em;\n\n  @media only screen and (min-width: 600px) {\n    align-items: center;\n  }\n`;\n\nconst LabelTitle = styled.h4`\n  text-align: center;\n  margin-bottom: 30px;\n\n  @media only screen and (min-width: 600px) {\n    text-align: left;\n  }\n`;\n\nconst CloseButton = styled.span`\n  cursor: pointer;\n  background: rgba(255, 255, 255, 0);\n  padding: 15px;\n  border-radius: 40px;\n  position: relative;\n\n  svg {\n    pointer-events: none;\n  }\n\n  &:after {\n    content: 'Close';\n    font-size: smaller;\n    font-weight: bolder;\n    padding: 4px;\n    bottom: 5px;\n    position: absolute;\n    left: 50%;\n    bottom: -30px;\n    background: black;\n    text-transform: uppercase;\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n    opacity: 0;\n    z-index: 5;\n    transition: all 0.25s ease-in-out;\n  }\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.12);\n\n    &:after {\n      opacity: 1;\n      transform: translate(-50%, -40%);\n      transition: all 0.25s ease-in-out;\n    }\n  }\n`;\nconst Wrapper = styled.div``;\n\nconst Container = styled.div``;\n\nconst Loader = styled.div`\n  width: 100%;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nconst Title = styled.h1`\n  margin-top: 0;\n  font-size: 1.5rem;\n  @media only screen and (min-width: 600px) {\n    font-size: 2.75rem;\n  }\n`;\n\nconst Subtitle = styled.p`\n  font-size: 0.92rem;\n  @media only screen and (min-width: 600px) {\n    font-size: 1.5rem;\n  }\n`;\n\nconst SpeciesText = styled.span`\n  margin-left: 8px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst NotFoundPage = () => {\n  return (\n    <>\n      <Container>\n        <Title>404</Title>\n        <Subtitle>This is not the page you are looking for.</Subtitle>\n      </Container>\n    </>\n  );\n};\n\nexport default NotFoundPage;\n\nconst Container = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n`;\nconst Title = styled.h1`\n  font-size: 10rem;\n  font-weight: 800;\n  margin-top: 0;\n  margin-bottom: 0;\n`;\nconst Subtitle = styled.h2`\n  font-size: 3rem;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport SearchPage from './components/SearchPage';\nimport CharacterPage from './components/CharacterPage';\nimport NotFoundPage from './components/NotFoundPage';\n\nconst App = () => {\n  return (\n    <Wrapper>\n      <ToastContainer />\n      <HashRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/\" component={SearchPage} />\n          <Route exact path=\"/character/:id\" component={CharacterPage} />\n          <Route component={NotFoundPage} />\n        </Switch>\n      </HashRouter>\n    </Wrapper>\n  );\n};\n\nexport default App;\n\nconst Wrapper = styled.div`\n  padding: 2em 20px;\n  max-width: 1000px;\n  width: 100%;\n  margin: auto;\n\n  @media only screen and (min-width: 600px) {\n    padding: 4em 20px;\n  }\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}